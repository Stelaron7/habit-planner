<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Explorer RPG</title>
    <style>
        :root {
            --space-dark: #0f0f1a;
            --space-blue: #1a1a3a;
            --star-yellow: #ffeb3b;
            --health-red: #f44336;
            --shield-blue: #2196f3;
            --energy-green: #4caf50;
        }
        body {
            font-family: 'Courier New', monospace;
            background-color: var(--space-dark);
            color: white;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        #game-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            height: 100vh;
        }
        #sidebar {
            background-color: var(--space-blue);
            padding: 15px;
            border-right: 1px solid #333;
        }
        #main-content {
            padding: 20px;
            position: relative;
        }
        #stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
        }
        .panel {
            background-color: rgba(0, 0, 0, 0.7);
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 15px;
        }
        .status-bar {
            height: 20px;
            background-color: #333;
            border-radius: 3px;
            margin: 5px 0;
            overflow: hidden;
        }
        .status-fill {
            height: 100%;
            transition: width 0.3s;
        }
        #health-bar .status-fill { background-color: var(--health-red); }
        #shield-bar .status-fill { background-color: var(--shield-blue); }
        #energy-bar .status-fill { background-color: var(--energy-green); }
        button {
            background-color: #333;
            color: white;
            border: 1px solid #555;
            padding: 8px 12px;
            margin: 5px 0;
            cursor: pointer;
            transition: all 0.2s;
        }
        button:hover {
            background-color: #444;
        }
        #planet-view {
            text-align: center;
            margin: 20px 0;
        }
        #planet-img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(45deg, #3a1c71, #d76d77, #ffaf7b);
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
        }
        #combat-log {
            height: 150px;
            overflow-y: auto;
            background-color: black;
            padding: 10px;
            border: 1px solid #333;
            font-family: monospace;
        }
        .inventory-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dashed #333;
        }
        .skill-node {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: #333;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            margin: 5px;
            cursor: pointer;
        }
        .skill-node.unlocked {
            background-color: var(--energy-green);
        }
        .skill-node.available {
            border: 2px solid var(--star-yellow);
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="sidebar">
            <div class="panel">
                <h2>Player Stats</h2>
                <div>Level: <span id="player-level">1</span></div>
                <div>XP: <span id="player-xp">0</span>/<span id="player-next-xp">100</span></div>
                <div>Credits: <span id="player-credits">500</span></div>
                
                <h3>Status</h3>
                <div>Health: <span id="health-text">100</span>/100</div>
                <div class="status-bar" id="health-bar"><div class="status-fill" style="width: 100%"></div></div>
                
                <div>Shields: <span id="shield-text">50</span>/50</div>
                <div class="status-bar" id="shield-bar"><div class="status-fill" style="width: 100%"></div></div>
                
                <div>Energy: <span id="energy-text">100</span>/100</div>
                <div class="status-bar" id="energy-bar"><div class="status-fill" style="width: 100%"></div></div>
            </div>
            
            <div class="panel">
                <h2>Inventory</h2>
                <div id="inventory">
                    <div class="inventory-item">
                        <span>Laser Pistol</span>
                        <span>1</span>
                    </div>
                </div>
                <div>Capacity: <span id="inventory-capacity">1</span>/10</div>
            </div>
            
            <div class="panel">
                <h2>Quests</h2>
                <div id="quests">
                    <div class="quest">
                        <strong>Find the Ancient Artifact</strong>
                        <div>0/3 Planets Explored</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="main-content">
            <div id="stars"></div>
            
            <div id="planet-view">
                <h1 id="planet-name">Unknown Planet</h1>
                <div id="planet-img"></div>
                <p id="planet-desc">A mysterious world awaits exploration...</p>
            </div>
            
            <div class="panel">
                <h2>Actions</h2>
                <div id="action-buttons">
                    <button id="explore-btn">Explore Planet</button>
                    <button id="travel-btn">Travel to New Planet</button>
                    <button id="repair-btn" disabled>Repair Ship</button>
                    <button id="combat-btn" disabled>Fight Enemies</button>
                </div>
            </div>
            
            <div class="panel">
                <h2>Event Log</h2>
                <div id="combat-log"></div>
            </div>
            
            <div class="panel" id="skill-tree" style="display: none;">
                <h2>Skill Tree</h2>
                <div style="text-align: center;">
                    <div class="skill-node available" data-skill="combat">‚öîÔ∏è</div>
                    <div class="skill-node" data-skill="shields">üõ°Ô∏è</div>
                    <div class="skill-node" data-skill="exploration">üîç</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game State
        const gameState = {
            player: {
                level: 1,
                xp: 0,
                nextXp: 100,
                credits: 500,
                health: 100,
                maxHealth: 100,
                shield: 50,
                maxShield: 50,
                energy: 100,
                maxEnergy: 100,
                inventory: [
                    { name: "Laser Pistol", quantity: 1 }
                ],
                inventoryCapacity: 10,
                skills: []
            },
            currentPlanet: null,
            planetsVisited: 0,
            quests: {
                artifactQuest: {
                    name: "Find the Ancient Artifact",
                    description: "Explore 3 planets to uncover clues",
                    required: 3,
                    completed: 0,
                    done: false
                }
            },
            enemies: [
                { name: "Space Pirate", health: 30, damage: 5, xp: 20, credits: 50 },
                { name: "Alien Predator", health: 50, damage: 8, xp: 30, credits: 75 },
                { name: "Rogue Drone", health: 20, damage: 3, xp: 15, credits: 30 }
            ],
            inCombat: false,
            currentEnemy: null
        };

        // DOM Elements
        const elements = {
            playerLevel: document.getElementById('player-level'),
            playerXp: document.getElementById('player-xp'),
            playerNextXp: document.getElementById('player-next-xp'),
            playerCredits: document.getElementById('player-credits'),
            healthText: document.getElementById('health-text'),
            healthBar: document.getElementById('health-bar').querySelector('.status-fill'),
            shieldText: document.getElementById('shield-text'),
            shieldBar: document.getElementById('shield-bar').querySelector('.status-fill'),
            energyText: document.getElementById('energy-text'),
            energyBar: document.getElementById('energy-bar').querySelector('.status-fill'),
            inventoryList: document.getElementById('inventory'),
            inventoryCapacity: document.getElementById('inventory-capacity'),
            planetName: document.getElementById('planet-name'),
            planetImg: document.getElementById('planet-img'),
            planetDesc: document.getElementById('planet-desc'),
            exploreBtn: document.getElementById('explore-btn'),
            travelBtn: document.getElementById('travel-btn'),
            repairBtn: document.getElementById('repair-btn'),
            combatBtn: document.getElementById('combat-btn'),
            combatLog: document.getElementById('combat-log'),
            skillTree: document.getElementById('skill-tree')
        };

        // Initialize game
        function initGame() {
            createStars();
            generatePlanet();
            updateUI();
            loadGame();
            
            // Event listeners
            elements.exploreBtn.addEventListener('click', explorePlanet);
            elements.travelBtn.addEventListener('click', travelToNewPlanet);
            elements.repairBtn.addEventListener('click', repairShip);
            elements.combatBtn.addEventListener('click', startCombat);
            
            document.querySelectorAll('.skill-node').forEach(node => {
                node.addEventListener('click', unlockSkill);
            });
            
            // Autosave every 30 seconds
            setInterval(saveGame, 30000);
        }

        // Starfield background
        function createStars() {
            const starsContainer = document.getElementById('stars');
            starsContainer.innerHTML = '';
            
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${Math.random() * 3}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.opacity = Math.random();
                starsContainer.appendChild(star);
            }
        }

        // Planet generation
        function generatePlanet() {
            const planetTypes = [
                { name: "Lava World", color: "linear-gradient(45deg, #ff4500, #ff8c00, #ff4500)", desc: "A scorching planet with rivers of molten rock." },
                { name: "Ice Planet", color: "linear-gradient(45deg, #00bfff, #87cefa, #e0ffff)", desc: "Frozen wasteland with glittering ice formations." },
                { name: "Jungle World", color: "linear-gradient(45deg, #228b22, #32cd32, #228b22)", desc: "Teeming with alien flora and fauna." },
                { name: "Desert Planet", color: "linear-gradient(45deg, #f4a460, #d2b48c, #f4a460)", desc: "Vast dunes stretch as far as the eye can see." },
                { name: "Ocean World", color: "linear-gradient(45deg, #1e90ff, #00bfff, #1e90ff)", desc: "A planet with no land, only endless oceans." }
            ];
            
            const planet = planetTypes[Math.floor(Math.random() * planetTypes.length)];
            gameState.currentPlanet = planet;
            
            elements.planetName.textContent = planet.name;
            elements.planetImg.style.background = planet.color;
            elements.planetDesc.textContent = planet.desc;
            
            // Enable/disable actions based on planet state
            elements.combatBtn.disabled = !(Math.random() > 0.3); // 70% chance of enemies
        }

        // Exploration function
        function explorePlanet() {
            if (gameState.inCombat) {
                logMessage("You can't explore while in combat!");
                return;
            }
            
            if (gameState.player.energy < 10) {
                logMessage("Not enough energy to explore!");
                return;
            }
            
            gameState.player.energy -= 10;
            
            const outcomes = [
                { text: "You found a cache of resources!", effect: () => { gameState.player.credits += 50; } },
                { text: "Discovered ancient ruins. Gained knowledge!", effect: () => { addXp(20); } },
                { text: "Found a damaged ship component. Repairs needed.", effect: () => { elements.repairBtn.disabled = false; } },
                { text: "Encountered hostile alien life!", effect: () => { startCombat(); } },
                { text: "Exploration yielded nothing of value.", effect: () => {} }
            ];
            
            const outcome = outcomes[Math.floor(Math.random() * outcomes.length)];
            logMessage(outcome.text);
            outcome.effect();
            
            // Quest progress
            if (!gameState.quests.artifactQuest.done) {
                gameState.quests.artifactQuest.completed++;
                if (gameState.quests.artifactQuest.completed >= gameState.quests.artifactQuest.required) {
                    gameState.quests.artifactQuest.done = true;
                    logMessage("QUEST COMPLETE: You found the Ancient Artifact!");
                    addXp(100);
                    gameState.player.credits += 500;
                }
            }
            
            updateUI();
        }

        // Combat system
        function startCombat() {
            if (gameState.inCombat) return;
            
            gameState.inCombat = true;
            gameState.currentEnemy = {...gameState.enemies[Math.floor(Math.random() * gameState.enemies.length)]};
            
            logMessage(`Combat started! A ${gameState.currentEnemy.name} approaches!`);
            elements.exploreBtn.disabled = true;
            elements.travelBtn.disabled = true;
            elements.combatBtn.textContent = "Attack";
            elements.combatBtn.onclick = playerAttack;
            
            updateUI();
        }

        function playerAttack() {
            if (!gameState.inCombat) return;
            
            // Player attack
            const playerDamage = Math.floor(Math.random() * 15) + 5;
            gameState.currentEnemy.health -= playerDamage;
            logMessage(`You attack the ${gameState.currentEnemy.name} for ${playerDamage} damage!`);
            
            // Check if enemy is defeated
            if (gameState.currentEnemy.health <= 0) {
                endCombat(true);
                return;
            }
            
            // Enemy attack
            const enemyDamage = Math.floor(Math.random() * gameState.currentEnemy.damage) + 1;
            
            // Shield absorption
            let remainingDamage = enemyDamage;
            if (gameState.player.shield > 0) {
                const shieldDamage = Math.min(remainingDamage, gameState.player.shield);
                gameState.player.shield -= shieldDamage;
                remainingDamage -= shieldDamage;
                logMessage(`Your shields absorb ${shieldDamage} damage!`);
            }
            
            if (remainingDamage > 0) {
                gameState.player.health -= remainingDamage;
                logMessage(`The ${gameState.currentEnemy.name} hits you for ${remainingDamage} damage!`);
            }
            
            // Check if player is defeated
            if (gameState.player.health <= 0) {
                gameState.player.health = 1; // Don't let player die
                logMessage("You barely escape with your life!");
                endCombat(false);
            }
            
            updateUI();
        }

        function endCombat(victory) {
            gameState.inCombat = false;
            elements.exploreBtn.disabled = false;
            elements.travelBtn.disabled = false;
            elements.combatBtn.textContent = "Fight Enemies";
            elements.combatBtn.onclick = startCombat;
            
            if (victory) {
                logMessage(`You defeated the ${gameState.currentEnemy.name}!`);
                addXp(gameState.currentEnemy.xp);
                gameState.player.credits += gameState.currentEnemy.credits;
            }
            
            gameState.currentEnemy = null;
            updateUI();
        }

        // Travel function
        function travelToNewPlanet() {
            if (gameState.inCombat) {
                logMessage("You can't travel while in combat!");
                return;
            }
            
            if (gameState.player.energy < 20) {
                logMessage("Not enough energy for interstellar travel!");
                return;
            }
            
            gameState.player.energy -= 20;
            generatePlanet();
            logMessage("Traveling to a new planet...");
            updateUI();
        }

        // Repair function
        function repairShip() {
            const cost = 100;
            if (gameState.player.credits >= cost) {
                gameState.player.credits -= cost;
                gameState.player.health = gameState.player.maxHealth;
                gameState.player.shield = gameState.player.maxShield;
                elements.repairBtn.disabled = true;
                logMessage("Ship fully repaired!");
            } else {
                logMessage(`Not enough credits (need ${cost})!`);
            }
            updateUI();
        }

        // Skill system
        function unlockSkill(e) {
            const skill = e.target.dataset.skill;
            
            if (e.target.classList.contains('unlocked')) return;
            if (!e.target.classList.contains('available')) return;
            
            const cost = 1; // Skill points would normally be used
            
            e.target.classList.add('unlocked');
            e.target.classList.remove('available');
            gameState.player.skills.push(skill);
            
            // Apply skill effects
            switch(skill) {
                case 'combat':
                    logMessage("Skill unlocked: Combat Training (+5 damage)");
                    break;
                case 'shields':
                    gameState.player.maxShield += 20;
                    gameState.player.shield = gameState.player.maxShield;
                    logMessage("Skill unlocked: Shield Upgrade (+20 max shields)");
                    break;
                case 'exploration':
                    gameState.player.maxEnergy += 30;
                    gameState.player.energy = gameState.player.maxEnergy;
                    logMessage("Skill unlocked: Efficient Exploration (+30 energy)");
                    break;
            }
            
            updateUI();
        }

        // XP and leveling
        function addXp(amount) {
            gameState.player.xp += amount;
            if (gameState.player.xp >= gameState.player.nextXp) {
                levelUp();
            }
            updateUI();
        }

        function levelUp() {
            gameState.player.level++;
            gameState.player.xp -= gameState.player.nextXp;
            gameState.player.nextXp = Math.floor(gameState.player.nextXp * 1.5);
            
            gameState.player.maxHealth += 10;
            gameState.player.health = gameState.player.maxHealth;
            
            logMessage(`LEVEL UP! You are now level ${gameState.player.level}!`);
            
            // Show skill tree every 3 levels
            if (gameState.player.level % 3 === 0) {
                elements.skillTree.style.display = 'block';
                document.querySelectorAll('.skill-node').forEach(node => {
                    if (!node.classList.contains('unlocked')) {
                        node.classList.add('available');
                    }
                });
            }
        }

        // UI updates
        function updateUI() {
            // Player stats
            elements.playerLevel.textContent = gameState.player.level;
            elements.playerXp.textContent = gameState.player.xp;
            elements.playerNextXp.textContent = gameState.player.nextXp;
            elements.playerCredits.textContent = gameState.player.credits;
            
            // Status bars
            elements.healthText.textContent = `${gameState.player.health}/${gameState.player.maxHealth}`;
            elements.healthBar.style.width = `${(gameState.player.health / gameState.player.maxHealth) * 100}%`;
            
            elements.shieldText.textContent = `${gameState.player.shield}/${gameState.player.maxShield}`;
            elements.shieldBar.style.width = `${(gameState.player.shield / gameState.player.maxShield) * 100}%`;
            
            elements.energyText.textContent = `${gameState.player.energy}/${gameState.player.maxEnergy}`;
            elements.energyBar.style.width = `${(gameState.player.energy / gameState.player.maxEnergy) * 100}%`;
            
            // Inventory
            elements.inventoryList.innerHTML = '';
            gameState.player.inventory.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.className = 'inventory-item';
                itemEl.innerHTML = `<span>${item.name}</span><span>${item.quantity}</span>`;
                elements.inventoryList.appendChild(itemEl);
            });
            elements.inventoryCapacity.textContent = `${gameState.player.inventory.length}/${gameState.player.inventoryCapacity}`;
        }

        // Log messages
        function logMessage(message) {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            const messageEl = document.createElement('div');
            messageEl.textContent = `[${timeString}] ${message}`;
            elements.combatLog.appendChild(messageEl);
            elements.combatLog.scrollTop = elements.combatLog.scrollHeight;
        }

        // Save/load system
        function saveGame() {
            localStorage.setItem('spaceExplorerSave', JSON.stringify(gameState));
            logMessage("Game saved!");
        }

        function loadGame() {
            const save = localStorage.getItem('spaceExplorerSave');
            if (save) {
                Object.assign(gameState, JSON.parse(save));
                logMessage("Game loaded!");
                updateUI();
            }
        }

        // Start the game
        window.onload = initGame;
    </script>
</body>
</html>
